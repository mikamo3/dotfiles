[Unit]
Description=Idle manager for Wayland
Documentation=man:swayidle(1)
PartOf=graphical-session.target

[Service]
Type=simple
ExecStart=/usr/bin/swayidle -w \
    timeout 600 'hyprlock &' \
    timeout 630 'hyprctl dispatch dpms off' \
        resume 'hyprctl dispatch dpms on' \
    before-sleep 'hyprlock'
Restart=on-failure
RestartSec=1

[Install]
WantedBy=graphical-session.target